---
title: 'A Spoonful of Hugo: How much Hugo do I need to know?'
author: Alison Hill
date: '2020-12-12'
categories:
  - blogdown
  - hugo
tags:
  - blogdown
  - hugo
summary: When and why you need to learn Hugo as an R blogdown user.
authors:
  - alison
image:
  caption: '[Photo by Joanna Kosinska on Unsplash](https://unsplash.com/photos/Prfs32wh-o4)'
  focal_point: center
output:
  blogdown::html_page:
    toc: yes
    number_sections: yes
    toc_depth: 2
---

<script src="{{< relref "post/2020-12-12-how-much-hugo/index.html" >}}index_files/header-attrs/header-attrs.js"></script>
<link href="{{< relref "post/2020-12-12-how-much-hugo/index.html" >}}index_files/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="{{< relref "post/2020-12-12-how-much-hugo/index.html" >}}index_files/anchor-sections/anchor-sections.js"></script>

<div id="TOC">
<ul>
<li><a href="#you-want-to-make-a-website-with-blogdown"><span class="toc-section-number">1</span> You want to: make a website with blogdown</a></li>
<li><a href="#you-want-to-customize-your-site"><span class="toc-section-number">2</span> You want to: customize your site</a></li>
<li><a href="#you-want-to-add-content-to-your-site"><span class="toc-section-number">3</span> You want to: add content to your site</a></li>
<li><a href="#you-want-to-customize-colors-and-fonts-on-your-site"><span class="toc-section-number">4</span> You want to: customize colors and fonts on your site</a></li>
<li><a href="#you-want-to-renovate-the-layout-of-content-on-your-site"><span class="toc-section-number">5</span> You want to: renovate the layout of content on your site</a></li>
<li><a href="#you-want-to-create-your-own-hugo-theme"><span class="toc-section-number">6</span> You want to: create your own Hugo theme</a></li>
</ul>
</div>

<p>Greetings and happy holidays! As many folks are looking forward to down time over the holidays, my inbox naturally starts filling in with questions like â€œWhat is the difference between blogdown and X?â€, â€œHow hard is Hugo to learn?â€, and â€œWhich Hugo theme do you recommend?â€ These are all great questions. But the best one in my mind that one needs to ask is:</p>
<blockquote>
<p>â€œHow much Hugo do I need to know <em>right now</em>?â€</p>
</blockquote>
<p>And the answer, of course, depends on where you are starting from and where youâ€™d like to end up.</p>
<p>In this post, Iâ€™ll share when and why I think a typical R blogdown user needs to learn Hugo. Iâ€™ll tell you a secret: I enjoyed learning Hugo. But I learned blogdown first, and frankly was blissfully unaware of the complexity of the underlying Hugo templating language. I was a happy blogdown user for about 1.5 years before taking the plunge to actually learn Hugo. Why did I do it? I needed to build a website for the RStudio Education team, and for sustainability and maintenance, I had been burned by external themes in various ways too many times for my personal site.</p>
<p>We decided as a team that we didnâ€™t want our site to depend on a third-party Hugo theme. What can go wrong with using third-party Hugo themes? For one, if you choose a not very active or well-maintained theme, then you could get stuck with a not well-maintained theme. Or worse, your theme could get orphaned, with no maintainer. But, on the flip-side, if you pick a very active and well-maintained theme, you might find yourself dealing with theme and Hugo updates more than you would like (<em>cough cough</em> like the Wowchemy/Academic theme).</p>
<p>The <a href="https://www.tidyverse.org/">tidyverse.org</a> site was built with a lot of custom HTML, CSS, and some Hugo layout files. I decided to turn that site into a real Hugo theme, and use that theme across teams. You may not have noticed any change <a href="https://github.com/tidyverse/tidyverse.org/pull/350">when we switched to the new theme</a>- at least I hope you didnâ€™t! That site and the <a href="https://education.rstudio.com/">RStudio Education</a> site both use the same Hugo theme I built.</p>
<p>Now that Iâ€™ve gone from casual Hugo user to theme developer, I have some advice. Generally, as a blanket rule, here is what you should and should not touch:</p>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
An <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> <a href="https://twitter.com/hashtag/blogdown?src=hash&amp;ref_src=twsrc%5Etfw">#blogdown</a> file hierarchy cheatsheet:<br><br>â”œâ”€ archetypes &lt;- edit me! <br>â”œâ”€ config.toml &lt;- edit me! <br>â”œâ”€ content &lt;- edit me! <br>â”œâ”€ data &lt;- edit me! <br>â”œâ”€ layouts &lt;- edit me! <br>â”œâ”€ public &lt;- ignore me!<br>â”œâ”€ static &lt;- use me! (png/pdf/csv/xls)<br>â”œâ”€ themes &lt;- don't touch! <a href="https://t.co/gvVA703Lwa">pic.twitter.com/gvVA703Lwa</a>
</p>
â€” Alison Hill (<span class="citation">@apreshill</span>) <a href="https://twitter.com/apreshill/status/1078494406301212672?ref_src=twsrc%5Etfw">December 28, 2018</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<!--![](https://media.giphy.com/media/l1J9wMccAykUCLIic/giphy.gif)-->
<p>But what can you do with <strong>blogdown</strong> before learning Hugo? When and how do you know when you need to get to know Hugo better? Hopefully this post will help answer these questions.</p>
<p>Inspired by Jenny Bryanâ€™s talk on <a href="https://resources.rstudio.com/rstudio-conf-2019/lazy-evaluation">lazy evaluation</a>, Iâ€™m framing these learning decision points based on <em>what you want to get done</em>.</p>
<div id="you-want-to-make-a-website-with-blogdown" class="section level1" number="1">
<h1><span class="header-section-number">1</span> You want to: make a website with blogdown</h1>
<blockquote>
<p><strong>You need to know this much Hugo:</strong> Hugo takes a collection of files (called content) and generates a collection of static HTML files as a single, cohesive, navigable website (plopped in your <code>public/</code> folder). How it looks depends on which Hugo theme you pick ğŸ¨</p>
</blockquote>
<p>Youâ€™ll need to:</p>
<ul>
<li><a href="https://bookdown.org/yihui/blogdown/themes.html">pick a Hugo theme</a>, which dictates the style and layout of your content.</li>
<li><a href="https://bookdown.org/yihui/blogdown/rstudio-ide.html">build and serve your site locally</a>.</li>
<li>deploy your site! If you are just starting out, I recommend <strong>everyone</strong> starts by first <a href="https://app.netlify.com/drop">dragging and dropping</a> your projectâ€™s <code>public/</code> folder into Netlify. There is your site ğŸ’¥. With a link. That you can send to your best friend <em>right now</em>.</li>
<li><a href="https://bookdown.org/yihui/blogdown/static-sites.html">realize this is a <strong>static</strong> site</a>. Read up on static sites!</li>
</ul>
<p>But you probably want to do moreâ€¦</p>
</div>
<div id="you-want-to-customize-your-site" class="section level1" number="2">
<h1><span class="header-section-number">2</span> You want to: customize your site</h1>
<blockquote>
<p><strong>You need to know this much more Hugo:</strong> Hugo themes typically use one or more metadata files (TOML or YAML) to set up global variables to use to build your site. This is usually the way to add a site url, a site name, link social accounts for personal websites, basically take any of the default content you see and customize it for you.</p>
</blockquote>
<p>The main files to edit are:</p>
<ul>
<li><a href="https://bookdown.org/yihui/blogdown/configuration.html">configuration files</a></li>
</ul>
<p>To get familiar with <code>TOML</code>, I recommend:</p>
<ul>
<li><a href="https://bookdown.org/yihui/blogdown/configuration.html#toml-syntax">a brief intro from the blogdown book</a>, and</li>
<li><a href="https://learnxinyminutes.com/docs/toml/">Learn TOML in Y Minutes</a>.</li>
</ul>
<p>But, since the time we published the blogdown book, Hugo introduced configuration directories, which allowed us to no longer have one giant <code>config.toml</code> file, and instead have multiple configuration files, like this:</p>
<pre><code>â”œâ”€â”€ config.toml            &lt;- Hugo-defined variables
â”œâ”€â”€ config
â”‚   â”œâ”€â”€ _default
â”‚   â”‚   â”œâ”€â”€ menus.toml     &lt;- menus :)
â”‚   â”‚   â””â”€â”€ params.toml    &lt;- theme-specific variables</code></pre>
<p>Here is how you can think of these:</p>
<ul>
<li><p><code>config.toml</code>/<code>config.yaml</code>: your most direct communication with Hugo. These are standard Hugo-defined variables that have defaults you can override in this file. You can view all of them <a href="https://gohugo.io/getting-started/configuration/#all-configuration-settings">here</a>. These are universal across themes.</p></li>
<li><p><code>menus.toml</code>: your way of editing the content in a side or upper navigation menu bar; see example <a href="https://gohugo.io/getting-started/configuration/#all-configuration-settings">here</a>. These work the same way across themes (with the exception of drop-down menus, which work in some themes but not others).</p></li>
<li><p><code>params.toml</code>: your themeâ€™s way of providing an API for Hugo. These are variables that your theme creator has made for you! This is a gift, but not the kind you can re-gift easily. This file will not work with any other theme.</p></li>
</ul>
<p>If your theme uses only a single <code>config.toml</code> file, you can infer these subsections as you scroll down:</p>
<pre><code># before the first use of [[]]
# are all the Hugo variables

# Menu Configuration- same as menus.toml
[[menu.main]]

# Theme Configuration- same as params.toml
[params]</code></pre>
<p>You still donâ€™t need to learn Hugoâ€¦yet.</p>
</div>
<div id="you-want-to-add-content-to-your-site" class="section level1" number="3">
<h1><span class="header-section-number">3</span> You want to: add content to your site</h1>
<blockquote>
<p><strong>You need to know this much more Hugo:</strong> Remember how the input to Hugo is a â€œcollection of filesâ€? The input is more specifically a collection of markdown files. Hugo themes use content written in markdown files (for blogdown users, R Markdown files work too) to generate your siteâ€™s content; with one very important rule â€” the same structure that works to organize your site content is used to organize the rendered site.</p>
</blockquote>
<p>But, what does that <strong>mean</strong>?</p>
<p><img src="https://media.giphy.com/media/Poaj36am3ZqaA/giphy.gif" /></p>
<p>The main files to edit are:</p>
<ul>
<li>files in the <a href="https://bookdown.org/yihui/blogdown/content.html"><code>content/</code> folder</a> (and see my post on <a href="/post/2019-10-26-hugo-layouts/">page bundles</a>)</li>
</ul>
<p>First, the structure and the names inside your <code>content/</code> folder is meaningful. The <strong>names</strong> of each folder determine what Hugo layout will be applied. Why do you care? If you change the content name, things may not look good because Hugo canâ€™t find the right layout. Think of your site like going to a party at a friendâ€™s house- you can bring food, wine, maybe a board game- your host knows what to do with these things. But if you bring a monkey, for example, your host has no idea what to do with it!</p>
<div class="figure">
<img src="https://media.giphy.com/media/JPgG1GbGnGbgBitA1Q/giphy.gif" alt="" />
<p class="caption">monkey at party</p>
</div>
<p>Yuo <em>can</em> override this by adding a <code>layout</code> key to your fileâ€™s YAML, as described <a href="https://gohugo.io/content-management/front-matter/#front-matter-variables">here</a>. The relevant bit is here:</p>
<blockquote>
<p>â€œ<code>layout</code>: the layout Hugo should select from the lookup order when rendering the content. If a <code>type</code> is not specified in the front matter, Hugo will look for the layout of the same name in the layout directory that corresponds with a contentâ€™s section.â€</p>
</blockquote>
<p>The subfolders also tell you where you can find your content on your site.</p>
<pre><code>.
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ authors/            # =&gt; https://example.com/authors/
â”‚   â”œâ”€â”€ privacy/index.md    # =&gt; https://example.com/privacy/
â”‚   â””â”€â”€ home/               # =&gt; https://example.com/</code></pre>
<p>You should take a bit of time to get the â€œcookâ€™s tourâ€ of your site. Try looking at each file and guessing the URL youâ€™ll use to see it in the rendered site. Do this now and it will become like second nature.</p>
<p>Youâ€™ll no doubt run into one question: what is the difference between <code>index.md</code> and <code>_index.md</code> files? <code>index.md</code> are simple pages; the single file goes into the site and a single file comes back out when you view the site. This is called a <a href="https://gohugo.io/content-management/page-bundles/">leaf bundle</a> in Hugo.</p>
<pre><code>.
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ privacy/index.md       # =&gt; a leaf bundle
â”‚   â””â”€â”€ blog/                  # =&gt; a branch bundle
â”‚       â”œâ”€â”€ _index.md          # =&gt; AHA!
â”‚       â”œâ”€â”€ gorillas/index.md  # =&gt; a leaf bundle
â”‚       â”œâ”€â”€ baboons/index.md   # =&gt; another leaf bundle
â”‚       â””â”€â”€ monkeys/index.md   # =&gt; yet another leaf bundle</code></pre>
<p>An <code>_index.md</code> file, on the other hand, signals that this folder has a <em>listing page</em> activated. This is called a <a href="https://gohugo.io/content-management/page-bundles/">branch bundle</a> in Hugo. Listing pages are a bit magical, so make sure you understand them now. Typically, if you edit the <code>_index.md</code> file at all, you edit the YAML of this file- often the page content below the YAML isnâ€™t revealed by the theme (this is a bit hand-wavy and Iâ€™m sorry for that).</p>
<p>So if you have <code>content/blog/gorillas/index.md</code>, you get not one but two pages. Letâ€™s pretend my baseurl is <code>alison.rbind.io</code>. You get a <strong>list</strong> page that will render at <code>alison.rbind.io/blog/</code>, and indexes all the <code>index.md</code> files inside that content folder. You also get a <strong>single</strong> page that will render at <code>alison.rbind.io/blog/gorillas/</code>, which shows you the full content of the <code>index.md</code> file.</p>
</div>
<div id="you-want-to-customize-colors-and-fonts-on-your-site" class="section level1" number="4">
<h1><span class="header-section-number">4</span> You want to: customize colors and fonts on your site</h1>
<blockquote>
<p><strong>You need to know this much more Hugo:</strong> It depends on your theme :) You may need to learn CSS, and you may need to learn to <em>read</em> Hugo now.</p>
</blockquote>
<p>Many Hugo themes enable users to edit aesthetic elements like colors and fonts. So, depending on your Hugo theme, you may not need to know CSS. Other themes provide a way to â€œplug inâ€ a custom CSS file to change those things and more (like spacing, font sizing, etc.). Guess where that is? Usually it is in your <code>config.toml</code> file in the <code>[params]</code> section (if no configuration directory) or the <code>params.toml</code> file. The theme author should leave you a breadcrumb to figure out what you should name and where you should place your custom CSS file.</p>
<p>For example, the Hugo academic theme provides a few ways in. In the <code>params.toml</code> file, you can use an included <a href="https://github.com/gcushen/hugo-academic/blob/b5963ac66c4c0400e88cd603a74d7734365f0885/exampleSite/config/_default/params.toml#L5">site color theme</a> or make your own, and customize your fonts. You can also provide your own custom CSS file by including it here: <a href="https://github.com/gcushen/hugo-academic/blob/master/assets/scss/custom.scss" class="uri">https://github.com/gcushen/hugo-academic/blob/master/assets/scss/custom.scss</a></p>
<p>If your theme doesnâ€™t provide this level of support, then you may need to learn Hugo. Sometimes the options are tough to find, unfortunately, but many theme designers provide at least a plug-in option. Others may require you to dig into some of your themeâ€™s partial layouts (i.e., <code>themes/theme_name/layouts/partials/</code>) and learn to read them. Here are some examples:</p>
<ul>
<li><p><strong>Plug-in CSS</strong>: Hugo <a href="https://github.com/kakawait/hugo-tranquilpeak-theme/blob/d306f0d7f67ca5880cb97530056c59216597cd51/exampleSite/config.toml#L175-L178">Tranquil Peak</a> theme tells you to place the file inside your <code>static/</code> folder then provide the path and filename in the <code>config.toml</code> file:</p>
<pre><code>[params]
  # Custom CSS. Put here your custom CSS files. They are loaded after the theme CSS;
  # they have to be referred from static root. Example
  # [[params.customCSS]]
  #   href = &quot;css/mystyle.css&quot;         &lt;- AHA!</code></pre></li>
<li><p><strong>Go Fish</strong>: Hugo <a href="https://github.com/victoriadrake/hugo-theme-sam/blob/39ea2d5e64fd0426d275060cfa6c549df66cdece/layouts/partials/head/css.html#L14-L18">I Am Sam</a> theme doesnâ€™t give you this in the <code>config.toml</code> file, but looking at one of the layout partials you can see that the theme is actually built to plug-in your custom CSS:</p>
<pre><code>&lt;!-- Custom css --&gt;
{{ range .Site.Params.customCSS -}}    &lt;- AHA!
{{ $style := resources.Get . }}
&lt;link rel=&quot;stylesheet&quot; href=&quot;{{ $style.RelPermalink }}&quot; integrity=&quot;{{ $style.Data.Integrity }}&quot; crossorigin=&quot;anonymous&quot; media=&quot;screen&quot;&gt;
{{- end }}</code></pre></li>
</ul>
</div>
<div id="you-want-to-renovate-the-layout-of-content-on-your-site" class="section level1" number="5">
<h1><span class="header-section-number">5</span> You want to: renovate the layout of content on your site</h1>
<blockquote>
<p><strong>You need to know this much more Hugo:</strong> You need to learn to use Hugo variables.</p>
</blockquote>
<p>I say renovate, but these can be anywhere from small to big renovation projects. The key word here is renovate, which in Hugo world, means you want to <em>override</em> your siteâ€™s theme. Letâ€™s say you want different information to show up in your <a href="https://github.com/rbind/apreshill/commit/be80b68eec3183dea304b66eaab874d496d7d1bb">siteâ€™s footer</a>. Or maybe you want add something new to the <a href="https://github.com/maelle/simplymaelle/pull/10">metadata</a> for your blog posts.</p>
<p>Here is a great blog post to get you started:</p>
<ul>
<li><a href="https://zwbetz.com/override-a-hugo-theme/">Override a Hugo theme</a></li>
</ul>
<p><strong>tl;dr:</strong> If you adapt your existing themeâ€™s Hugo layout files, be sure to make a copy of the layout you want to edit <strong>first</strong> and add it to your project rootâ€™s <code>layouts/</code> folder before editing. Please do not edit any files anywhere in your <code>themes/</code> folder.</p>
<p>Now, the hardest part of doing is often figuring out which layout file is the one you need to edit. Often youâ€™ll need to do some digging to figure out which file is the one to touch.</p>
<pre><code>.
â”œâ”€â”€ layouts/
â”‚   â”œâ”€â”€ _default/           # edit me!
â”‚   â”œâ”€â”€ authors/            # edit me!
â”‚   â””â”€â”€ partials/           # edit me!
â”œâ”€â”€ themes/
â”‚   â”œâ”€â”€ theme_name/
â”‚   â”‚   â”œâ”€â”€ layouts
â”‚   â”‚   â”‚   â”œâ”€â”€ _default/   # do not touch
â”‚   â”‚   â”‚   â”œâ”€â”€ authors/    # do not touch (seriously)
â”‚   â”‚   â”‚   â””â”€â”€ partials/   # ğŸ”¥</code></pre>
<p>Youâ€™ll also want to learn about Hugo <a href="https://gohugo.io/variables/"><strong>variables</strong></a>, especially:</p>
<ul>
<li><a href="https://gohugo.io/variables/site/">Site variables</a></li>
<li><a href="https://gohugo.io/variables/site/#the-siteparams-variable">The <code>.Site.Params</code> variable</a></li>
<li><a href="https://gohugo.io/variables/page/">Page variables</a></li>
<li><a href="https://gohugo.io/variables/page/#the-param-method">The <code>.Param</code> method for page variables</a></li>
</ul>
<p>You also might need to understand Hugo <a href="https://gohugo.io/templates/introduction/#logic">logic</a> like:</p>
<ul>
<li><a href="https://gohugo.io/templates/introduction/#iteration">iteration</a> and</li>
<li><a href="https://gohugo.io/templates/introduction/#conditionals">conditionals</a></li>
</ul>
<p>{{% alert note %}}
Important: I learned this the hard way, but you <a href="https://gohugo.io/templates/introduction/#html-comments-containing-go-templates">cannot</a> wrap your Hugo code in HTML comments to deactivate it; all Hugo code even inside of HTML comments will still be evaluated when you build your site.
{{% /alert %}}</p>
</div>
<div id="you-want-to-create-your-own-hugo-theme" class="section level1" number="6">
<h1><span class="header-section-number">6</span> You want to: create your own Hugo theme</h1>
<blockquote>
<p><strong>You need to know this much more Hugo:</strong> Welcome to the wizarding world of Hugo! ğŸ§™â€â™‚ï¸ You now need to learn to write Hugo templates.</p>
</blockquote>
<p>Here are some resources for writing Hugo <a href="https://gohugo.io/templates/"><strong>templates</strong></a>:</p>
<ul>
<li><a href="https://gohugo.io/templates/introduction/#the-dot">Context (aka â€œthe dotâ€)</a></li>
<li><a href="https://regisphilibert.com/blog/2018/02/hugo-the-scope-the-context-and-the-dot/">Hugo, the scope, the context and the dot</a></li>
<li><a href="https://gohugo.io/templates/lookup-order/#examples-layout-lookup-for-regular-pages">Lookup order</a></li>
<li><a href="https://gohugo.io/templates/base/">Base templates</a></li>
<li><a href="https://gohugo.io/templates/single-page-templates/">Single page templates</a></li>
<li><a href="https://gohugo.io/templates/lists/">List page templates</a></li>
</ul>
<p>These resources were especially helpful to me:</p>
<ul>
<li>The <a href="https://bookdown.org/yihui/blogdown/templates.html">blogdown book section on templates</a></li>
<li>The <a href="https://bookdown.org/yihui/blogdown/custom-layouts.html">blogdown book section on customizing layouts</a></li>
<li>The <a href="https://gohugo.io/documentation/">Hugo docs</a> are pretty strong</li>
<li><a href="https://zwbetz.com/make-a-hugo-blog-from-scratch/">Make a Hugo blog from scratch | zwbetz</a></li>
<li><a href="https://discourse.gohugo.io/">Hugo Community Discourse Forum</a></li>
<li><a href="https://www.mikedane.com/static-site-generators/hugo/">All of Mike Daneâ€™s Hugo tutorials</a></li>
</ul>
<p>I spent a lot of time looking at other Hugo themes; here are some quality ones to learn from:</p>
<ul>
<li><p><a href="https://masalmon.eu/">MaÃ«lle Salmonâ€™s</a> ROpenSci Hugo theme: <a href="https://github.com/ropensci/roweb2/tree/master/themes/ropensci" class="uri">https://github.com/ropensci/roweb2/tree/master/themes/ropensci</a></p></li>
<li><p><a href="https://amber.rbind.io/">Amber Thomasâ€™s</a> Data Science Hugo theme:
<a href="https://github.com/ProQuestionAsker/hugo-data-science" class="uri">https://github.com/ProQuestionAsker/hugo-data-science</a></p></li>
<li><p><a href="https://djnavarro.net/">Danielle Navarroâ€™s</a> slum Hugo theme: <a href="https://github.com/djnavarro/hugo-slum" class="uri">https://github.com/djnavarro/hugo-slum</a></p></li>
<li><p>My own humble Hugo theme: <a href="https://github.com/rstudio/hugo-graphite" class="uri">https://github.com/rstudio/hugo-graphite</a></p></li>
</ul>
<hr />
<p>Again, this is all just based on my own experiences- your mileage may vary as always.</p>
</div>
